<!-- PHONE UNIVERSAL (PORTRAIT & LANDSCAPE) MODE -->

<!-- STREAM VIEW -->
<ion-pane data-ng-if="!global.appState.sourceDetail">
	<!-- HEADER BAR -->
	<ion-content class="has-header">
		<div class="bar bar-header">
			<a id="nav-source-home" ng-if="global.showSourceHome" alt="Source Home Button" class="button button-clear" ui-sref="app.sourceIndex({ sourceName : global.appState.sourceName})"><i class="ion-chevron-up"></i></a>
			<h2 class="title">{{global.sourceMeta.title}}</h2>
		</div>
		<div class="ui-default ui-phone">
			<div class="ui-list-view">
				<ion-scroll direction="y" class="has-header has-footer vertical-scroller stream">
					<ion-refresher pulling-text="Pull to refresh..." on-refresh="global.doRefresh(true)"></ion-refresher>
					<ui-stream><!-- STREAM HANDLER --></ui-stream>
					<!-- <ion-infinite-scroll ng-if="hasMoreItems()" on-infinite="loadMore()" distance="10%"></ion-infinite-scroll> -->
					<!-- <div>
						<button class="button button-block button-positive cdc-blue selected border" ng-show="global.hasMoreItems()" ng-click="global.loadMore()" >
							Show more
						</button>
					</div> -->
					<div class="bar">&nbsp;<!-- Hack for height fix since IONIC is not properly handling height with sub headers --></div>
				</ion-scroll>
			</div><!-- .ui-list-view -->
		</div><!-- .ui-iphone -->
	</ion-content>
</ion-pane>

<!-- THE DETAIL VIEW -->
<ion-pane data-ng-if="global.appState.sourceDetail">
	<ion-content>
		<div class="ui-default ui-phone">
			<div class="ui-detail-view" >
				<ui-detail data-source-meta="global.sourceMeta" data-detail-card="global.detailCard" data-app-state="global.appState"><!-- UI DETAIL DIRECTIVE --></ui-detail>
			</div><!-- .ui-detail-view -->
		</div><!-- .ui-iphone -->
	</ion-content>
</ion-pane>