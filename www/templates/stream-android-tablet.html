<ion-view>
    <ion-content ng-init="init()" class="content-stable">
        <ion-refresher
            pulling-text="Pull to refresh..."
            on-refresh="doRefresh()">
        </ion-refresher>
        <div class="stream tablet-stream">
            <h3 class="padding">{{name}}</h3>
            <div ng-repeat="data in datas | limitTo: paginationLimit()" class="row" ng-if="$index % 2 === 0">
                <div class="card" ng-if="$index < datas.length">
                    <div ng-if="data.isOutbreak" class="item item-notice outbreak"><b>Outbreak</b></div>
                    <div ng-if="data.isWarning" class="item item-notice warning"><b>Travel Notice</b> - Warning Level 3</div>
                    <div ng-if="data.isWatch" class="item item-notice watch"><b>Travel Notice</b> - Watch Level 1</div>
                    <div ng-if="data.isAlert" class="item item-notice alert"><b>Travel Notice</b> - Alert Level 2</div>
                    <a ng-if="data.hasImage" class="item item-image" ng-href="{{url}}{{$index}}">
                        <img ng-src="{{data.imageSrc}}" err-src="img/image-placeholder.png" halfwidth>
                    </a>
                    <a class="item item-text-wrap item-body animated" ng-href="{{url}}{{$index}}">
                        <strong>{{data.name | words:10}}</strong>
                        <p class="date">{{data.datePublished}}</p>
                        <p>{{data.description | words:20}}</p>
                    </a>
                    <a class="item item-footer" ng-if="name" ng-click="scrollTop()">
                        {{name}}
                    </a>
                </div>
                <div class="card" ng-if="$index + 1 < datas.length">
                    <div ng-if="data.isOutbreak" class="item item-notice outbreak"><b>Outbreak</b></div>
                    <div ng-if="data.isWarning" class="item item-notice warning"><b>Travel Notice</b> - Warning Level 3</div>
                    <div ng-if="data.isWatch" class="item item-notice watch"><b>Travel Notice</b> - Watch Level 1</div>
                    <div ng-if="data.isAlert" class="item item-notice alert"><b>Travel Notice</b> - Alert Level 2</div>
                    <a ng-if="data.hasImage" class="item item-image" ng-href="{{url}}{{$index + 1}}">
                        <img ng-src="{{datas[$index + 1].imageSrc}}" err-src="img/image-placeholder.png" halfwidth>
                    </a>
                    <a class="item item-text-wrap item-body animated" ng-href="{{url}}{{$index + 1}}">
                        <strong>{{datas[$index + 1].name | words:10}}</strong>
                        <p class="date">{{datas[$index + 1].datePublished}}</p>
                        <p>{{datas[$index + 1].description | words:20}}</p>
                    </a>
                    <a class="item item-footer" ng-if="name" ng-click="scrollTop()">
                        {{name}}
                    </a>
                </div>
            </div>
        </div>
        <button class="button button-block button-positive cdc-blue selected border" ng-show="hasMoreItems()" ng-click="showMoreItems()" >
            Show more
        </button>
    </ion-content>
</ion-view>
